"use strict";System.register([],function(e,n){return{setters:[],execute:function(){System.register([],function(e,n){var t,r,c,i,o;return{setters:[],execute:function(){t=function(){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}}(),r=["calculations"],"vanillaframe",2,i=c=null,e("ConnectionFactory",o=function(){function o(){throw function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),new Error("Cannot instantiate ConnectionFactory because it is a static class")}return t(o,null,[{key:"getConnection",value:function(){return new Promise(function(n,t){var e=window.indexedDB.open("vanillaframe",2);e.onupgradeneeded=function(e){o._createStores(e.target.result)},e.onsuccess=function(e){c||(c=e.target.result,i=c.close.bind(c),c.close=function(){throw new Error("You can only close the connection directly by the function ConnectionFactory.closeConnection")}),n(c)},e.onerror=function(e){console.log(e.target.error),t(e.target.error.name)}})}},{key:"_createStores",value:function(n){r.forEach(function(e){n.objectStoreNames.contains(r)&&n.deleteObjectStore(e),n.createObjectStore(e,{autoIncrement:!0})})}},{key:"closeConnection",value:function(){c&&(i(),c=null)}}]),o}()),e("ConnectionFactory",o)}}})}}});
//# sourceMappingURL=ConnectionFactory.js.map
