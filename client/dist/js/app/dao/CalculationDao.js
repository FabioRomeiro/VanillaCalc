"use strict";System.register([],function(e,n){return{setters:[],execute:function(){System.register(["../models/Calculation"],function(e,n){var i,t,r;return{setters:[function(e){i=e.Calculation}],execute:function(){t=function(){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),e("CalculationDao",r=function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this._connection=e,this._store="calculations"}return t(n,[{key:"add",value:function(r){var o=this;return new Promise(function(n,t){var e=o._connection.transaction([o._store],"readwrite").objectStore(o._store).add(r);e.onsuccess=function(e){return n()},e.onerror=function(e){console.log(e.target.error),t("Failed on saving calculation into IndexedDB")}})}},{key:"listAll",value:function(){var t=this;return new Promise(function(r,n){var e=t._connection.transaction([t._store],"readwrite").objectStore(t._store).openCursor(),o=[];e.onsuccess=function(e){var n=e.target.result;if(n){var t=n.value;o.push(new i(t._date,t._expression,t._result)),n.continue()}else r(o)},e.onerror=function(e){console.log(e.target.error),n("Failed on listing calculation from IndexedDB")}})}},{key:"clearAll",value:function(){var r=this;return new Promise(function(n,t){var e=r._connection.transaction([r._store],"readwrite").objectStore(r._store).clear();e.onsuccess=function(e){return n()},e.onerror=function(e){console.log(e.target.error),t("Failed on deleting calculation from IndexedDB")}})}}]),n}()),e("CalculationDao",r)}}})}}});
//# sourceMappingURL=CalculationDao.js.map
