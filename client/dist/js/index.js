var keys=document.querySelectorAll("[data-type]"),operators=[];document.querySelectorAll("[data-type=operator]").forEach(function(t){operators.push(t.getAttribute("name"))});var digits=[],operation=[],display={lastop:document.querySelector("[data-display=last]"),current:document.querySelector("[data-display=current]")};function calculate(){var t=operation;for(t.some(function(t){return operators.includes(t)});t.includes("/");){var e=t.indexOf("/");if(-1<e){var a=parseFloat(t.splice(e-1,2)[0]);t[e-1]=a/parseFloat(t[e-1])}}for(;t.includes("x");){var r=t.indexOf("x");if(-1<r){a=parseFloat(t.splice(r-1,2)[0]);t[r-1]=a*parseFloat(t[r-1])}}return t}function isolate_numbers(){operation.push(digits.join(""))}function clear_all(){display.current.textContent="",operation=[],digits=[]}function clear_digits(){digits=[]}function update_display(t){display.current.textContent+=t}function display_answer(t){display.current.textContent=t}keys.forEach(function(a){null===a.getAttribute("disabled")&&a.addEventListener("click",function(){var t=a.getAttribute("name"),e=a.getAttribute("data-type");"operator"==e?(isolate_numbers(),operation.push(t),clear_digits(),update_display(t)):"number"==e?(digits.push(t),update_display(t)):"cleaner"==e?clear_all():"equals"==e&&(isolate_numbers(),clear_digits(),display_answer(calculate()))})});