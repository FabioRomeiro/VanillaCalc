"use strict";var _createClass=function(){function t(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var CalculationDao=function(){function n(e){_classCallCheck(this,n),this._connection=e,this._store="calculations"}return _createClass(n,[{key:"add",value:function(t){var o=this;return new Promise(function(n,r){var e=o._connection.transaction([o._store],"readwrite").objectStore(o._store).add(t);e.onsuccess=function(e){return n()},e.onerror=function(e){console.log(e.target.error),r("Failed on saving calculation into IndexedDB")}})}},{key:"listAll",value:function(){var r=this;return new Promise(function(t,n){var e=r._connection.transaction([r._store],"readwrite").objectStore(r._store).openCursor(),o=[];e.onsuccess=function(e){var n=e.target.result;if(n){var r=n.value;o.push(new Calculation(r._date,r._expression,r._result)),n.continue()}else t(o)},e.onerror=function(e){console.log(e.target.error),n("Failed on listing calculation from IndexedDB")}})}},{key:"clearAll",value:function(){var t=this;return new Promise(function(n,r){var e=t._connection.transaction([t._store],"readwrite").objectStore(t._store).clear();e.onsuccess=function(e){return n()},e.onerror=function(e){console.log(e.target.error),r("Failed on deleting calculation from IndexedDB")}})}}]),n}();
//# sourceMappingURL=CalculationDao.js.map
